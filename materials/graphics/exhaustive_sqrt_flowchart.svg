<svg xmlns="http://www.w3.org/2000/svg" width="980" height="900" viewBox="0 0 980 900">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
    </marker>
    <style>
      .box { fill: #f9fbff; stroke: #2b3a55; stroke-width: 2; }
      .diamond { fill: #fff7e6; stroke: #b36b00; stroke-width: 2; }
      .term { fill: #e9f7ef; stroke: #1e7e34; stroke-width: 2; }
      .text { font-family: "Helvetica Neue", Arial, sans-serif; font-size: 18px; fill: #1b1f23; }
      .label { font-family: "Helvetica Neue", Arial, sans-serif; font-size: 16px; fill: #1b1f23; }
      .line { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrow); }
    </style>
  </defs>

  <!-- Start -->
  <rect class="term" x="420" y="20" width="140" height="44" rx="22" />
  <text class="text" x="490" y="48" text-anchor="middle">Start</text>

  <!-- Initialize -->
  <rect class="box" x="300" y="90" width="380" height="60" rx="8" />
  <text class="text" x="490" y="125" text-anchor="middle">step = epsilon; ans = 0.0; num_guesses = 0</text>

  <!-- Print start -->
  <rect class="box" x="310" y="170" width="360" height="52" rx="8" />
  <text class="text" x="490" y="202" text-anchor="middle">Print: Finding square root</text>

  <!-- Loop condition -->
  <polygon class="diamond" points="490,250 640,320 490,390 340,320" />
  <text class="text" x="490" y="318" text-anchor="middle">abs(ans^2 - x) ≥ ε</text>
  <text class="text" x="490" y="340" text-anchor="middle">AND ans^2 ≤ x?</text>

  <!-- Update in loop -->
  <rect class="box" x="340" y="420" width="300" height="60" rx="8" />
  <text class="text" x="490" y="455" text-anchor="middle">ans = ans + step</text>
  <text class="text" x="490" y="475" text-anchor="middle">num_guesses += 1</text>

  <!-- Print guesses -->
  <rect class="box" x="320" y="520" width="340" height="52" rx="8" />
  <text class="text" x="490" y="552" text-anchor="middle">Print: Number of guesses</text>

  <!-- Final condition -->
  <polygon class="diamond" points="490,600 640,670 490,740 340,670" />
  <text class="text" x="490" y="675" text-anchor="middle">abs(ans^2 - x) ≥ ε?</text>

  <!-- Fail -->
  <rect class="box" x="80" y="780" width="300" height="52" rx="8" />
  <text class="text" x="230" y="812" text-anchor="middle">Print: Failed to find</text>
  <text class="text" x="230" y="832" text-anchor="middle">return None</text>

  <!-- Success -->
  <rect class="box" x="600" y="780" width="300" height="52" rx="8" />
  <text class="text" x="750" y="812" text-anchor="middle">Print: Approx root</text>
  <text class="text" x="750" y="832" text-anchor="middle">return ans</text>

  <!-- Lines -->
  <path class="line" d="M 490 64 L 490 90" />
  <path class="line" d="M 490 150 L 490 170" />
  <path class="line" d="M 490 222 L 490 250" />

  <!-- Loop yes -->
  <path class="line" d="M 490 390 L 490 420" />
  <text class="label" x="515" y="405">Yes</text>

  <!-- Loop back -->
  <path class="line" d="M 640 320 L 860 320 L 860 450 L 640 450" />
  <text class="label" x="750" y="308">Yes</text>

  <!-- Continue after loop ends -->
  <path class="line" d="M 340 320 L 180 320 L 180 546 L 320 546" />
  <text class="label" x="250" y="308">No</text>

  <path class="line" d="M 490 480 L 490 520" />
  <path class="line" d="M 490 572 L 490 600" />

  <!-- Final condition branches -->
  <path class="line" d="M 340 670 L 230 670 L 230 780" />
  <text class="label" x="280" y="658">Yes</text>

  <path class="line" d="M 640 670 L 750 670 L 750 780" />
  <text class="label" x="700" y="658">No</text>
</svg>
